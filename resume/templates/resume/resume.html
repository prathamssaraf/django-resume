{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ personal_info.name }} - Resume</title>
    <link rel="stylesheet" href="{% static 'resume/css/styles.css' %}">
</head>
<body>
    <div class="cv-container">
        {% if personal_info %}
        <div class="header">
            <div class="name">{{ personal_info.name|upper }}</div>
            <div class="contact-info">
                {{ personal_info.location }} | {{ personal_info.email }} | {{ personal_info.phone }} | {{ personal_info.github }}
            </div>
        </div>
        {% endif %}

        {% if education %}
        <div class="section">
            <div class="section-title">Education</div>
            {% for edu in education %}
            <div class="education-item clearfix">
                <div class="institution">{{ edu.institution }}, {{ edu.location }}</div>
                <div class="dates">{{ edu.start_date }} - {{ edu.end_date }}</div>
                <div class="degree">{{ edu.degree }}</div>
                {% if edu.gpa %}
                <div class="gpa">{{ edu.gpa }}</div>
                {% endif %}
                {% if edu.achievements %}
                <div class="responsibilities">
                    {{ edu.achievements|linebreaks }}
                </div>
                {% endif %}
                {% if edu.coursework %}
                <div class="coursework">
                    <strong>Coursework:</strong> {{ edu.coursework }}
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if experience %}
        <div class="section">
            <div class="section-title">Professional Experience</div>
            {% for exp in experience %}
            <div class="experience-item clearfix">
                <div class="company">{{ exp.company }}, {{ exp.location }}</div>
                <div class="dates">{{ exp.start_date }} - {{ exp.end_date }}</div>
                <div class="position">{{ exp.position }}</div>
                <div class="responsibilities">
                    {{ exp.responsibilities|linebreaks }}
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if projects %}
        <div class="section">
            <div class="section-title">Projects</div>
            {% for project in projects %}
            <div class="project-item">
                <div class="project-name">{{ project.name }}</div>
                <div class="coursework">{{ project.technologies }}</div>
                <div class="responsibilities">
                    {{ project.description|linebreaks }}
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if research %}
        <div class="section">
            <div class="section-title">Research</div>
            {% for item in research %}
            <div class="research-item">
                <div class="project-name">{{ item.title }} - {{ item.professor }}</div>
                <div class="dates">{{ item.date }}</div>
                <div class="coursework">{{ item.technologies }}</div>
                <div class="responsibilities">
                    {{ item.description|linebreaks }}
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if skill_categories %}
        <div class="section">
            <div class="section-title">Technical Skills</div>
            <div class="skills-grid">
                {% for category in skill_categories %}
                <div class="skill-category">
                    <h4>{{ category.name }}</h4>
                    {{ category.skills }}
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        {% if activities %}
        <div class="section">
            <div class="section-title">Extracurricular Activities</div>
            <div class="responsibilities">
                <ul>
                    {% for activity in activities %}
                    <li>{{ activity.description }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        {% endif %}
    </div>
</body>
</html>